---
layout: post
comments: true
date: 2013-12-18 22:22:41+00:00
title: 读薄《代码整洁之道》—— Clean Code 
categories:  
- reading
- programming

---
每个想写出优美代码的程序员都应该好好读读《Clean Code》。
注：因为读的是英文版Clean Code，本文有些翻译可能与中文版不一致，我会在文中适当注明英文。
# 目录 
[有意义的命名](cleancode.html/\#meaningfulName)




# 2. [有意义的命名](cleancode.html/\#meaningfulName) 
## 2.1 使用名副其实的名字

标识符名字必须能够反映作者意图，如果一个标识符需要注释，那么，这个标识符命名就没能反映作者意图，需要进行修改。

## 2.2 避免误导信息

需要避免多意词，比如，缩略词常常会带来误导；单词拼写差异很小的情况也应该避免，如ControllerForEfficientHandlingOfString与ControllerForEfficientStorageOfString,这给阅读代码带来多大干扰；最后，大写字母O、数字0，小写字母l和数字1应该尽量避免，它们实在太像了。

## 2.3 使用有意义的区分
添加数字编号或干扰词来区分标识符可不算明智的做法。如果标识符不同，那么，他们就得有不同的含义，举例来说：
> char * strcpy(char a1[], char a2[])

> char * strcpy(char destination[], char source[])

二者相比，第二种写法显然更clean。

再说干扰词(noise words),干扰词是另一个无意义的区分，是多余的。举例来说，有个class叫product，然而，可能还有另外两个类，分别叫productInfo和productData，这里，Info和Date即是干扰词，这种命名会在后期带来不必要的麻烦。

## 2.4 使用便于读的名字
编程是一项社会化的活动，编程要便于交流。举例来说，有个变量名叫“BCR3cnt”，这会给沟通带来多大不便啊

## 2.5 使用便于搜索的名字
单个字母、数字常量之类的都有一个问题：它们不便于搜索。想象一下，如果你在当前目录下使用命令进行搜索，简直就是灾难
> grep -rn "e" .

> grep -rn "7" .

所以，单个字母仅可以用来在小作用域做局部变量，名字长度应该和作用域的大小相关。

## 2.6 不要编码(Avoid Encoding) 
匈牙利标记法、成员前缀并不会带来便利，接口前不要加前缀“I”表示是接口，接口的实现前也不用加前缀“Imp”。最后，对于单个字母变量，需要避免心理映射(Mental Mapping)，单个字母作为循环计数器并没有不妥，但用作它用时，程序员很容易将其映射到某具体的概念，如果因为变量"a"和变量"b"已经用了，就给新定义变量命名为"c"，这简直太难以理解了。

## 2.7 类名与方法名
类名和对象名应该用名词或者名词短语，而方法名应用动词或动词短语

## 2.8 其它
* 不要卖萌

如果标识符名字很诙谐，那么，只有明白程序员的幽默的人在记得这个玩笑的时间内能看懂；另外，不要使用方言、俚语等。总之，Choose clarity over entertainment value. And Say what you mean. Mean what you say.

* 每个意思只选一个词

为每个概念选一个词并一直使用，名字应该唯一，并在使用中保持一直。举例来说，如果有fetch、get和retrieve三个方法，那么，调用方法时，自会增加许多不必要的麻烦。

* 避免一语双关

要避免一词多意，代码要易读，而且很多时候是快速略读(quick skim)，如果一次多意，那么在读代码过程中就需要去核实究竟用的是哪个意思。

* 使用解决方案领域的名字

阅读程序的基本都是程序员，他们不一定会问题领域很了解，所以，尽可能的使用CS的专业词汇。只有当没有程序员的说法时，才使用问题域的名字。最后，上下文语境也会有所帮助。

## 2.9 总结
好的命名需要好的描述技巧和一些文化背景，这不是技巧、商业和管理问题，所以，大部分程序员并不愿学习如何做好命名工作。但应该果断的做这件事，虽然短期内会付出一些精力，但收获会很大。
